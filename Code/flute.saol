global {
 table cyc(harm,128,1);
 srate 44100.0;
}

instr flute (fr) {
 imports exports table cyc;

 ksig env01,env02,env03,env04,env05,env06,env07,env08,env09,env10,env11,env12,env13,env14,env15,env16,env17,env18,env19,env20,env21,env22,env23,env24,env25,env26,env27,env28,env29,env30;

 asig y01,y02,y03,y04,y05,y06,y07,y08,y09,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30;



// **********************
// computed during k-pass

env01 = kline(0,
	0.253846, 0.222411,
	0.075000, 0.298067,
	0.080769, 0.224850,
	0.096154, 0.313022,
	0.084615, 0.101165,
	0.080769, 0.181877,
	0.084615, 0.092358,
	0.096154, 0.165717,
	0.080769, 0.090903,
	0.092308, 0.155719,
	0.084615, 0.088744,
	0.084615, 0.145798,
	0.082692, 0.087366,
	0.092308, 0.134255,
	0.098077, 0.085369,
	0.078846, 0.125572,
	0.084615, 0.081553,
	0.442308, 0.099865,
	0.130769, 0.000000);

env02 = kline(0,
	0.115385, 0.267218,
	0.061538, 0.378284,
	0.094231, 0.186298,
	0.080769, 0.329809,
	0.100000, 0.173427,
	0.080769, 0.316791,
	0.088462, 0.166390,
	0.088462, 0.285163,
	0.078846, 0.164530,
	0.082692, 0.266775,
	0.096154, 0.168830,
	0.084615, 0.244664,
	0.086538, 0.156317,
	0.092308, 0.232358,
	0.080769, 0.159151,
	0.434615, 0.188982,
	0.046154, 0.148426,
	0.036538, 0.031893,
	0.055769, 0.000000);

env03 = kline(0,
	0.326923, 0.154779,
	0.069231, 0.108517,
	0.138462, 0.147016,
	0.084615, 0.093273,
	0.057692, 0.167633,
	0.082692, 0.078699,
	0.094231, 0.142605,
	0.082692, 0.072216,
	0.105769, 0.135590,
	0.096154, 0.076671,
	0.071154, 0.135915,
	0.069231, 0.063643,
	0.100000, 0.120251,
	0.092308, 0.077485,
	0.119231, 0.107092,
	0.061538, 0.060800,
	0.078846, 0.106777,
	0.369231, 0.083118,
	0.111538, 0.000000);

env04 = kline(0,
	0.080769, 0.185733,
	0.126923, 0.275729,
	0.078846, 0.151858,
	0.090385, 0.278066,
	0.075000, 0.133603,
	0.082692, 0.249033,
	0.096154, 0.131933,
	0.090385, 0.234486,
	0.084615, 0.131662,
	0.094231, 0.223390,
	0.053846, 0.129224,
	0.109615, 0.204336,
	0.105769, 0.131278,
	0.075000, 0.198009,
	0.092308, 0.110964,
	0.084615, 0.174180,
	0.051923, 0.121036,
	0.288462, 0.159563,
	0.134615, 0.000000);

env05 = kline(0,
	0.115385, 0.052396,
	0.073077, 0.091340,
	0.032692, 0.083642,
	0.028846, 0.034250,
	0.103846, 0.080240,
	0.111538, 0.037759,
	0.080769, 0.089941,
	0.088462, 0.026378,
	0.076923, 0.068816,
	0.105769, 0.034728,
	0.075000, 0.070216,
	0.117308, 0.028648,
	0.048077, 0.064823,
	0.088462, 0.030334,
	0.075000, 0.056359,
	0.178846, 0.030183,
	0.042308, 0.054232,
	0.315385, 0.049901,
	0.138462, 0.000000);

env06 = kline(0,
	0.023077, 0.053239,
	0.157692, 0.031286,
	0.059615, 0.054284,
	0.088462, 0.029472,
	0.078846, 0.060205,
	0.065385, 0.022281,
	0.071154, 0.046221,
	0.111538, 0.022689,
	0.098077, 0.050589,
	0.078846, 0.021464,
	0.078846, 0.046186,
	0.065385, 0.021776,
	0.107692, 0.040628,
	0.132692, 0.022008,
	0.050000, 0.041721,
	0.080769, 0.017961,
	0.082692, 0.035626,
	0.380769, 0.029740,
	0.111538, 0.000000);

env07 = kline(0,
	0.005769, 0.025024,
	0.013462, 0.008982,
	0.011538, 0.022709,
	0.082692, 0.010701,
	0.101923, 0.028421,
	0.034615, 0.006152,
	0.113462, 0.022913,
	0.021154, 0.010853,
	0.005769, 0.029156,
	0.003846, 0.013638,
	0.050000, 0.007870,
	0.101923, 0.024609,
	0.090385, 0.004552,
	0.100000, 0.022108,
	0.053846, 0.004950,
	0.125000, 0.020402,
	0.103846, 0.004446,
	0.407692, 0.017683,
	0.478846, 0.000000);

env08 = kline(0,
	0.088462, 0.018665,
	0.128846, 0.002560,
	0.078846, 0.020134,
	0.088462, 0.002962,
	0.088462, 0.020638,
	0.128846, 0.003675,
	0.021154, 0.019420,
	0.019231, 0.006748,
	0.126923, 0.003226,
	0.044231, 0.017464,
	0.088462, 0.005609,
	0.061538, 0.016163,
	0.023077, 0.002252,
	0.021154, 0.014304,
	0.144231, 0.003411,
	0.196154, 0.014403,
	0.021154, 0.002414,
	0.461538, 0.011191,
	0.146154, 0.000000);

env09 = kline(0,
	0.019231, 0.016715,
	0.005769, 0.004454,
	0.157692, 0.005136,
	0.034615, 0.016834,
	0.013462, 0.003792,
	0.057692, 0.002966,
	0.115385, 0.018672,
	0.005769, 0.004190,
	0.092308, 0.001506,
	0.040385, 0.014569,
	0.075000, 0.002567,
	0.109615, 0.013583,
	0.159615, 0.002261,
	0.009615, 0.013730,
	0.103846, 0.002101,
	0.096154, 0.011833,
	0.173077, 0.001900,
	0.009615, 0.011779,
	0.628846, 0.000000);

env10 = kline(0,
	0.136538, 0.000833,
	0.013462, 0.012367,
	0.019231, 0.001390,
	0.138462, 0.008467,
	0.136538, 0.000267,
	0.046154, 0.008426,
	0.025000, 0.000945,
	0.019231, 0.013061,
	0.019231, 0.001677,
	0.138462, 0.008532,
	0.142308, 0.001013,
	0.007692, 0.009927,
	0.057692, 0.000475,
	0.019231, 0.008443,
	0.225000, 0.000644,
	0.080769, 0.008317,
	0.059615, 0.000567,
	0.101923, 0.007891,
	0.651923, 0.000000);

env11 = kline(0,
	0.051923, 0.008673,
	0.157692, 0.002831,
	0.025000, 0.010092,
	0.082692, 0.002820,
	0.119231, 0.009827,
	0.034615, 0.002655,
	0.063462, 0.002734,
	0.023077, 0.009265,
	0.048077, 0.003084,
	0.015385, 0.007597,
	0.036538, 0.002246,
	0.123077, 0.007361,
	0.123077, 0.002666,
	0.038462, 0.009129,
	0.036538, 0.002269,
	0.330769, 0.006989,
	0.050000, 0.001842,
	0.409615, 0.005415,
	0.171154, 0.000000);

env12 = kline(0,
	0.042308, 0.006835,
	0.005769, 0.001665,
	0.025000, 0.000616,
	0.046154, 0.005258,
	0.094231, 0.002605,
	0.005769, 0.006675,
	0.094231, 0.001208,
	0.107692, 0.003501,
	0.005769, 0.007518,
	0.005769, 0.002424,
	0.025000, 0.000469,
	0.109615, 0.007446,
	0.090385, 0.000855,
	0.155769, 0.004878,
	0.030769, 0.000324,
	0.105769, 0.005706,
	0.088462, 0.000495,
	0.238462, 0.004788,
	0.655769, 0.000000);

env13 = kline(0,
	0.015385, 0.004874,
	0.128846, 0.000151,
	0.050000, 0.005469,
	0.061538, 0.000693,
	0.140385, 0.005239,
	0.025000, 0.001191,
	0.094231, 0.003390,
	0.013462, 0.000114,
	0.050000, 0.004515,
	0.034615, 0.000166,
	0.071154, 0.000646,
	0.034615, 0.005026,
	0.050000, 0.000978,
	0.126923, 0.004349,
	0.017308, 0.000186,
	0.194231, 0.003827,
	0.190385, 0.000106,
	0.313462, 0.003160,
	0.292308, 0.000000);

env14 = kline(0,
	0.057692, 0.000071,
	0.053846, 0.003748,
	0.100000, 0.000397,
	0.034615, 0.003927,
	0.134615, 0.003847,
	0.063462, 0.000089,
	0.109615, 0.003605,
	0.048077, 0.000317,
	0.163462, 0.003649,
	0.015385, 0.000347,
	0.123077, 0.000572,
	0.032692, 0.003667,
	0.050000, 0.000259,
	0.113462, 0.003040,
	0.111538, 0.000039,
	0.051923, 0.003181,
	0.107692, 0.000058,
	0.276923, 0.003031,
	0.278846, 0.000000);

env15 = kline(0,
	0.055769, 0.000221,
	0.088462, 0.001106,
	0.005769, 0.003888,
	0.288462, 0.000291,
	0.050000, 0.004248,
	0.040385, 0.001458,
	0.007692, 0.004476,
	0.003846, 0.001178,
	0.046154, 0.000577,
	0.075000, 0.003644,
	0.163462, 0.000036,
	0.048077, 0.004186,
	0.069231, 0.000603,
	0.090385, 0.004257,
	0.080769, 0.000092,
	0.263462, 0.003504,
	0.090385, 0.000130,
	0.292308, 0.002878,
	0.280769, 0.000000);

env16 = kline(0,
	0.051923, 0.002139,
	0.025000, 0.000295,
	0.025000, 0.002606,
	0.015385, 0.000162,
	0.150000, 0.000348,
	0.005769, 0.002170,
	0.111538, 0.000169,
	0.051923, 0.002415,
	0.026923, 0.000331,
	0.023077, 0.002339,
	0.026923, 0.000182,
	0.107692, 0.001913,
	0.148077, 0.000254,
	0.051923, 0.002413,
	0.026923, 0.000166,
	0.140385, 0.001762,
	0.294231, 0.000121,
	0.036538, 0.001841,
	0.663462, 0.000000);

env17 = kline(0,
	0.009615, 0.001648,
	0.032692, 0.000112,
	0.075000, 0.001392,
	0.028846, 0.000176,
	0.030769, 0.001659,
	0.067308, 0.000022,
	0.017308, 0.001296,
	0.265385, 0.001541,
	0.007692, 0.000089,
	0.003846, 0.001519,
	0.092308, 0.000102,
	0.017308, 0.001642,
	0.059615, 0.000317,
	0.009615, 0.001658,
	0.017308, 0.000220,
	0.094231, 0.000030,
	0.201923, 0.001444,
	0.053846, 0.000150,
	0.948077, 0.000000);

env18 = kline(0,
	0.119231, 0.000308,
	0.069231, 0.003027,
	0.123077, 0.000351,
	0.009615, 0.003264,
	0.040385, 0.000201,
	0.023077, 0.002320,
	0.080769, 0.000648,
	0.007692, 0.002805,
	0.142308, 0.000478,
	0.028846, 0.003182,
	0.011538, 0.000573,
	0.051923, 0.002698,
	0.111538, 0.000176,
	0.040385, 0.002697,
	0.140385, 0.000183,
	0.028846, 0.003187,
	0.050000, 0.000201,
	0.332692, 0.002142,
	0.611538, 0.000000);

env19 = kline(0,
	0.073077, 0.000212,
	0.009615, 0.001977,
	0.088462, 0.000071,
	0.061538, 0.002474,
	0.025000, 0.000324,
	0.126923, 0.001939,
	0.167308, 0.000037,
	0.065385, 0.002520,
	0.040385, 0.000081,
	0.101923, 0.000363,
	0.011538, 0.002443,
	0.067308, 0.000064,
	0.090385, 0.002219,
	0.007692, 0.000232,
	0.215385, 0.002006,
	0.061538, 0.000103,
	0.086538, 0.001933,
	0.019231, 0.000312,
	0.644231, 0.000000);

env20 = kline(0,
	0.011538, 0.001104,
	0.005769, 0.000082,
	0.111538, 0.000051,
	0.015385, 0.001685,
	0.011538, 0.000046,
	0.101923, 0.001232,
	0.250000, 0.000075,
	0.019231, 0.001437,
	0.011538, 0.000090,
	0.090385, 0.000115,
	0.013462, 0.001230,
	0.038462, 0.000071,
	0.036538, 0.001171,
	0.013462, 0.000054,
	0.280769, 0.000129,
	0.021154, 0.001340,
	0.082692, 0.000057,
	0.294231, 0.001041,
	0.623077, 0.000000);

env21 = kline(0,
	0.003846, 0.000243,
	0.011538, 0.001412,
	0.007692, 0.000173,
	0.076923, 0.001407,
	0.221154, 0.000132,
	0.076923, 0.001527,
	0.055769, 0.000137,
	0.098077, 0.000118,
	0.009615, 0.001497,
	0.001923, 0.000215,
	0.059615, 0.001406,
	0.007692, 0.000165,
	0.090385, 0.000092,
	0.048077, 0.001688,
	0.034615, 0.000067,
	0.132692, 0.000155,
	0.007692, 0.001490,
	0.003846, 0.000113,
	0.990385, 0.000000);

env22 = kline(0,
	0.040385, 0.001073,
	0.048077, 0.000140,
	0.003846, 0.001177,
	0.042308, 0.000048,
	0.080769, 0.001407,
	0.005769, 0.000171,
	0.038462, 0.001119,
	0.017308, 0.000105,
	0.126923, 0.000111,
	0.021154, 0.001249,
	0.098077, 0.000116,
	0.063462, 0.001173,
	0.021154, 0.000019,
	0.273077, 0.000096,
	0.009615, 0.001039,
	0.034615, 0.000023,
	0.348077, 0.001011,
	0.017308, 0.000033,
	0.642308, 0.000000);

env23 = kline(0,
	0.009615, 0.000986,
	0.032692, 0.000053,
	0.169231, 0.000203,
	0.023077, 0.001159,
	0.034615, 0.000037,
	0.009615, 0.000974,
	0.105769, 0.000042,
	0.009615, 0.001132,
	0.092308, 0.000058,
	0.132692, 0.000939,
	0.146154, 0.000035,
	0.013462, 0.001123,
	0.042308, 0.000050,
	0.134615, 0.000973,
	0.136538, 0.000094,
	0.011538, 0.000970,
	0.007692, 0.000059,
	0.703846, 0.000820,
	0.138462, 0.000000);

env24 = kline(0,
	0.025000, 0.000056,
	0.007692, 0.000870,
	0.155769, 0.000916,
	0.005769, 0.000071,
	0.090385, 0.000101,
	0.028846, 0.001133,
	0.013462, 0.000263,
	0.007692, 0.001242,
	0.005769, 0.000306,
	0.015385, 0.001049,
	0.055769, 0.000086,
	0.090385, 0.000954,
	0.023077, 0.000031,
	0.157692, 0.000039,
	0.013462, 0.001002,
	0.057692, 0.000032,
	0.326923, 0.000955,
	0.028846, 0.000056,
	0.765385, 0.000000);

env25 = kline(0,
	0.126923, 0.000040,
	0.048077, 0.000895,
	0.015385, 0.000098,
	0.005769, 0.000959,
	0.007692, 0.000054,
	0.023077, 0.000892,
	0.013462, 0.000043,
	0.146154, 0.000834,
	0.051923, 0.000018,
	0.121154, 0.000951,
	0.005769, 0.000153,
	0.069231, 0.000017,
	0.055769, 0.000719,
	0.190385, 0.000054,
	0.005769, 0.000818,
	0.036538, 0.000039,
	0.834615, 0.000048,
	0.003846, 0.000710,
	0.140385, 0.000000);

env26 = kline(0,
	0.034615, 0.000882,
	0.013462, 0.000081,
	0.094231, 0.000093,
	0.025000, 0.000937,
	0.080769, 0.000017,
	0.055769, 0.000757,
	0.001923, 0.000006,
	0.015385, 0.000945,
	0.011538, 0.000101,
	0.053846, 0.000041,
	0.005769, 0.000801,
	0.007692, 0.000074,
	0.019231, 0.000766,
	0.105769, 0.000064,
	0.007692, 0.000830,
	0.038462, 0.000057,
	0.275000, 0.000781,
	0.063462, 0.000047,
	0.951923, 0.000000);

env27 = kline(0,
	0.005769, 0.001152,
	0.003846, 0.000102,
	0.001923, 0.001076,
	0.050000, 0.000054,
	0.005769, 0.001147,
	0.096154, 0.000057,
	0.050000, 0.001356,
	0.023077, 0.000045,
	0.119231, 0.001152,
	0.025000, 0.000185,
	0.009615, 0.001327,
	0.023077, 0.000090,
	0.103846, 0.000193,
	0.007692, 0.001286,
	0.023077, 0.000065,
	0.361538, 0.001035,
	0.113462, 0.000036,
	0.030769, 0.001060,
	0.840385, 0.000000);

env28 = kline(0,
	0.003846, 0.001436,
	0.003846, 0.000273,
	0.123077, 0.000100,
	0.005769, 0.001410,
	0.050000, 0.000150,
	0.015385, 0.001611,
	0.032692, 0.000066,
	0.111538, 0.001423,
	0.007692, 0.000212,
	0.005769, 0.001420,
	0.011538, 0.000202,
	0.144231, 0.000188,
	0.005769, 0.001461,
	0.042308, 0.000064,
	0.134615, 0.001249,
	0.086538, 0.000087,
	0.071154, 0.001171,
	0.011538, 0.000076,
	0.996154, 0.000000);

env29 = kline(0,
	0.007692, 0.001388,
	0.073077, 0.000103,
	0.026923, 0.000603,
	0.003846, 0.002291,
	0.007692, 0.000129,
	0.176923, 0.000353,
	0.003846, 0.001693,
	0.040385, 0.000026,
	0.109615, 0.001419,
	0.015385, 0.000053,
	0.025000, 0.000885,
	0.005769, 0.002796,
	0.005769, 0.000707,
	0.021154, 0.000130,
	0.344231, 0.000225,
	0.013462, 0.001604,
	0.028846, 0.000022,
	0.423077, 0.001419,
	0.667308, 0.000000);

env30 = kline(0,
	0.025000, 0.000080,
	0.150000, 0.001473,
	0.069231, 0.000068,
	0.021154, 0.001687,
	0.063462, 0.000175,
	0.013462, 0.001732,
	0.013462, 0.000108,
	0.119231, 0.001586,
	0.003846, 0.000217,
	0.115385, 0.000072,
	0.050000, 0.000176,
	0.005769, 0.001927,
	0.013462, 0.000041,
	0.140385, 0.001475,
	0.209615, 0.000067,
	0.021154, 0.001568,
	0.086538, 0.000011,
	0.413462, 0.001416,
	0.469231, 0.000000);



// **********************
// computed during a-pass

y01 = env01 * oscil(cyc, fr * 1);
y02 = env02 * oscil(cyc, fr * 2);
y03 = env03 * oscil(cyc, fr * 3);
y04 = env04 * oscil(cyc, fr * 4);
y05 = env05 * oscil(cyc, fr * 5);
y06 = env06 * oscil(cyc, fr * 6);
y07 = env07 * oscil(cyc, fr * 7);
y08 = env08 * oscil(cyc, fr * 8);
y09 = env09 * oscil(cyc, fr * 9);
y10 = env10 * oscil(cyc, fr * 10);
y11 = env11 * oscil(cyc, fr * 11);
y12 = env12 * oscil(cyc, fr * 12);
y13 = env13 * oscil(cyc, fr * 13);
y14 = env14 * oscil(cyc, fr * 14);
y15 = env15 * oscil(cyc, fr * 15);
y16 = env16 * oscil(cyc, fr * 16);
y17 = env17 * oscil(cyc, fr * 17);
y18 = env18 * oscil(cyc, fr * 18);
y19 = env19 * oscil(cyc, fr * 19);
y20 = env20 * oscil(cyc, fr * 20);
y21 = env21 * oscil(cyc, fr * 21);
y22 = env22 * oscil(cyc, fr * 22);
y23 = env23 * oscil(cyc, fr * 23);
y24 = env24 * oscil(cyc, fr * 24);
y25 = env25 * oscil(cyc, fr * 25);
y26 = env26 * oscil(cyc, fr * 26);
y27 = env27 * oscil(cyc, fr * 27);
y28 = env28 * oscil(cyc, fr * 28);
y29 = env29 * oscil(cyc, fr * 29);
y30 = env30 * oscil(cyc, fr * 30);

output(y01+y02+y03+y04+y05+y06+y07+y08+y09+y10+y11+y12+y13+y14+y15+y16+y17+y18+y19+y20+y21+y22+y23+y24+y25+y26+y27+y28+y29+y30);

}