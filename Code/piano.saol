global {
 table cyc(harm,128,1);
 srate 22050.0;
}

instr piano (fr) {
 imports exports table cyc;

 ksig env01,env02,env03,env04,env05,env06,env07,env08,env09,env10,env11,env12,env13,env14,env15,env16,env17,env18,env19,env20,env21,env22,env23,env24,env25,env26,env27,env28,env29,env30;

 asig y01,y02,y03,y04,y05,y06,y07,y08,y09,y10,y11,y12,y13,y14,y15,y16,y17,y18,y19,y20,y21,y22,y23,y24,y25,y26,y27,y28,y29,y30;



// **********************
// computed during k-pass

env01 = kline(0,
	0.001608, 0.336494,
	0.004823, 0.258039,
	0.001608, 0.260641,
	0.003215, 0.316632,
	0.004823, 0.306330,
	0.003215, 0.272150,
	0.004823, 0.301878,
	0.004823, 0.286735,
	0.003215, 0.252793,
	0.003215, 0.263369,
	0.008039, 0.227911,
	0.004823, 0.257629,
	0.024116, 0.273146,
	0.014469, 0.246980,
	0.062701, 0.243235,
	0.077170, 0.163925,
	0.127010, 0.106779,
	0.147910, 0.069834,
	0.697749, 0.011686,
	1.292604, 0.000000);

env02 = kline(0,
	0.001608, 0.097396,
	0.001608, 0.081971,
	0.001608, 0.078928,
	0.001608, 0.081134,
	0.003215, 0.116144,
	0.003215, 0.091460,
	0.004823, 0.113417,
	0.006431, 0.093345,
	0.004823, 0.112132,
	0.006431, 0.120713,
	0.024116, 0.108884,
	0.016077, 0.116759,
	0.012862, 0.101062,
	0.032154, 0.097333,
	0.036977, 0.077621,
	0.011254, 0.090239,
	0.085209, 0.058597,
	0.331190, 0.018250,
	0.215434, 0.003887,
	1.691318, 0.000000);

env03 = kline(0,
	0.001608, 0.103600,
	0.006431, 0.123191,
	0.003215, 0.119140,
	0.003215, 0.122436,
	0.004823, 0.143915,
	0.001608, 0.146819,
	0.004823, 0.140883,
	0.011254, 0.137932,
	0.011254, 0.125505,
	0.024116, 0.125184,
	0.038585, 0.107072,
	0.012862, 0.106261,
	0.122186, 0.064693,
	0.159164, 0.032198,
	0.127010, 0.015985,
	0.093248, 0.009119,
	0.567524, 0.014227,
	1.295820, 0.005881,
	0.003215, 0.005852,
	0.000000, 0.000000);

env04 = kline(0,
	0.001608, 0.065044,
	0.001608, 0.066805,
	0.003215, 0.061627,
	0.003215, 0.075400,
	0.001608, 0.077307,
	0.004823, 0.072471,
	0.001608, 0.074500,
	0.009646, 0.067854,
	0.009646, 0.070116,
	0.004823, 0.074675,
	0.017685, 0.067747,
	0.011254, 0.067912,
	0.099678, 0.035034,
	0.011254, 0.034537,
	0.033762, 0.026122,
	0.043408, 0.022119,
	0.046624, 0.021864,
	0.155949, 0.012716,
	0.842444, 0.002154,
	1.188103, 0.000000);

env05 = kline(0,
	0.001608, 0.079765,
	0.001608, 0.091854,
	0.004823, 0.103992,
	0.006431, 0.102229,
	0.008039, 0.089347,
	0.046624, 0.080054,
	0.025723, 0.071244,
	0.046624, 0.062437,
	0.024116, 0.054804,
	0.024116, 0.053358,
	0.069132, 0.035083,
	0.141479, 0.016152,
	0.090032, 0.009605,
	0.281350, 0.015397,
	0.109325, 0.014919,
	0.635048, 0.004381,
	0.967846, 0.003670,
	0.006431, 0.003570,
	0.001608, 0.003554,
	0.000000, 0.000000);

env06 = kline(0,
	0.001608, 0.026125,
	0.001608, 0.032187,
	0.001608, 0.033016,
	0.001608, 0.032131,
	0.001608, 0.025887,
	0.001608, 0.026114,
	0.003215, 0.031280,
	0.003215, 0.032152,
	0.004823, 0.028888,
	0.009646, 0.027340,
	0.001608, 0.028969,
	0.004823, 0.026172,
	0.020900, 0.022047,
	0.049839, 0.023855,
	0.112540, 0.012179,
	0.141479, 0.006274,
	0.361736, 0.009030,
	0.811897, 0.000498,
	0.427653, 0.001979,
	0.528939, 0.000000);

env07 = kline(0,
	0.001608, 0.009863,
	0.001608, 0.010075,
	0.001608, 0.016387,
	0.001608, 0.018609,
	0.004823, 0.021923,
	0.001608, 0.020323,
	0.003215, 0.021566,
	0.001608, 0.023717,
	0.011254, 0.017165,
	0.035370, 0.018974,
	0.012862, 0.017836,
	0.008039, 0.014402,
	0.022508, 0.014410,
	0.033762, 0.010147,
	0.022508, 0.011305,
	0.099678, 0.006955,
	0.233119, 0.008012,
	0.707395, 0.001255,
	0.501608, 0.002735,
	0.786174, 0.000000);

env08 = kline(0,
	0.003215, 0.046764,
	0.001608, 0.056532,
	0.003215, 0.062370,
	0.009646, 0.052692,
	0.009646, 0.050197,
	0.008039, 0.051058,
	0.022508, 0.037180,
	0.011254, 0.035406,
	0.011254, 0.029706,
	0.011254, 0.029972,
	0.062701, 0.011875,
	0.065916, 0.001461,
	0.073955, 0.007250,
	0.083601, 0.009777,
	0.202572, 0.008572,
	0.191318, 0.010924,
	0.435691, 0.001027,
	0.252412, 0.003685,
	0.385852, 0.000021,
	0.646302, 0.000000);

env09 = kline(0,
	0.008039, 0.004127,
	0.001608, 0.007745,
	0.004823, 0.002790,
	0.001608, 0.006780,
	0.001608, 0.003239,
	0.001608, 0.006901,
	0.001608, 0.004103,
	0.001608, 0.007379,
	0.001608, 0.003306,
	0.001608, 0.005225,
	0.001608, 0.001935,
	0.001608, 0.004744,
	0.004823, 0.001782,
	0.020900, 0.003379,
	0.012862, 0.000967,
	0.004823, 0.003175,
	0.022508, 0.000332,
	0.210611, 0.002355,
	0.461415, 0.000033,
	1.725080, 0.000000);

env10 = kline(0,
	0.001608, 0.003914,
	0.004823, 0.008239,
	0.001608, 0.006549,
	0.003215, 0.005450,
	0.011254, 0.002857,
	0.008039, 0.003216,
	0.004823, 0.002220,
	0.012862, 0.004226,
	0.012862, 0.001520,
	0.014469, 0.003314,
	0.014469, 0.001304,
	0.009646, 0.002365,
	0.009646, 0.001265,
	0.028939, 0.001750,
	0.009646, 0.000774,
	0.008039, 0.001624,
	0.011254, 0.000869,
	0.118971, 0.002248,
	0.479100, 0.000163,
	1.726688, 0.000000);

env11 = kline(0,
	0.003215, 0.016506,
	0.001608, 0.017322,
	0.006431, 0.012493,
	0.003215, 0.012187,
	0.004823, 0.015584,
	0.004823, 0.010866,
	0.003215, 0.010155,
	0.006431, 0.011660,
	0.008039, 0.008720,
	0.069132, 0.002613,
	0.041801, 0.000894,
	0.086817, 0.004317,
	0.006431, 0.002992,
	0.056270, 0.004118,
	0.122186, 0.001368,
	0.160772, 0.001791,
	0.085209, 0.000122,
	0.186495, 0.002486,
	0.303859, 0.000278,
	1.331190, 0.000000);

env12 = kline(0,
	0.004823, 0.007332,
	0.009646, 0.002024,
	0.001608, 0.005050,
	0.001608, 0.001119,
	0.001608, 0.006028,
	0.001608, 0.001035,
	0.001608, 0.004930,
	0.001608, 0.001264,
	0.001608, 0.004307,
	0.009646, 0.002126,
	0.001608, 0.004609,
	0.001608, 0.001601,
	0.001608, 0.005054,
	0.001608, 0.001540,
	0.001608, 0.004153,
	0.017685, 0.003993,
	0.001608, 0.000891,
	0.017685, 0.000154,
	0.271704, 0.002710,
	2.139871, 0.000000);

env13 = kline(0,
	0.001608, 0.003971,
	0.004823, 0.001150,
	0.001608, 0.002629,
	0.001608, 0.000343,
	0.004823, 0.004946,
	0.004823, 0.001225,
	0.003215, 0.004100,
	0.004823, 0.000788,
	0.001608, 0.003162,
	0.003215, 0.003146,
	0.001608, 0.000529,
	0.012862, 0.002922,
	0.001608, 0.000871,
	0.016077, 0.002607,
	0.035370, 0.000228,
	0.212219, 0.001903,
	0.006431, 0.000261,
	0.006431, 0.001763,
	0.072347, 0.000111,
	2.094855, 0.000000);

env14 = kline(0,
	0.008039, 0.002020,
	0.003215, 0.003791,
	0.003215, 0.001646,
	0.003215, 0.003148,
	0.008039, 0.000336,
	0.001608, 0.002098,
	0.003215, 0.000179,
	0.001608, 0.001720,
	0.004823, 0.002207,
	0.003215, 0.000292,
	0.011254, 0.001372,
	0.003215, 0.000174,
	0.009646, 0.002101,
	0.014469, 0.000602,
	0.001608, 0.002307,
	0.008039, 0.000264,
	0.001608, 0.001441,
	0.011254, 0.001514,
	0.123794, 0.000121,
	2.266881, 0.000000);

env15 = kline(0,
	0.004823, 0.002273,
	0.001608, 0.000118,
	0.001608, 0.001936,
	0.001608, 0.000916,
	0.001608, 0.001899,
	0.001608, 0.000347,
	0.008039, 0.001905,
	0.001608, 0.000736,
	0.004823, 0.001234,
	0.006431, 0.000059,
	0.001608, 0.000977,
	0.028939, 0.000234,
	0.024116, 0.001823,
	0.024116, 0.001210,
	0.009646, 0.002041,
	0.020900, 0.000951,
	0.027331, 0.001302,
	0.001608, 0.000448,
	0.149518, 0.000086,
	2.170418, 0.000000);

env16 = kline(0,
	0.001608, 0.003429,
	0.001608, 0.002397,
	0.009646, 0.003121,
	0.006431, 0.002265,
	0.001608, 0.002992,
	0.043408, 0.001078,
	0.009646, 0.001671,
	0.028939, 0.000791,
	0.004823, 0.001557,
	0.001608, 0.000819,
	0.019293, 0.000697,
	0.009646, 0.001461,
	0.001608, 0.000467,
	0.001608, 0.001215,
	0.011254, 0.001459,
	0.051447, 0.000876,
	0.004823, 0.001703,
	0.006431, 0.000850,
	0.282958, 0.000045,
	1.993569, 0.000000);

env17 = kline(0,
	0.003215, 0.005754,
	0.006431, 0.004108,
	0.003215, 0.004503,
	0.003215, 0.003749,
	0.008039, 0.003208,
	0.022508, 0.002241,
	0.024116, 0.003647,
	0.003215, 0.004181,
	0.035370, 0.005996,
	0.028939, 0.006136,
	0.038585, 0.005347,
	0.009646, 0.004598,
	0.032154, 0.003484,
	0.065916, 0.001774,
	0.049839, 0.001424,
	0.138264, 0.001732,
	0.139871, 0.000677,
	0.147910, 0.000915,
	0.485531, 0.000070,
	1.245981, 0.000000);

env18 = kline(0,
	0.001608, 0.001431,
	0.004823, 0.001291,
	0.001608, 0.000856,
	0.004823, 0.001181,
	0.001608, 0.001137,
	0.001608, 0.000707,
	0.006431, 0.001008,
	0.003215, 0.000663,
	0.012862, 0.000717,
	0.004823, 0.000453,
	0.001608, 0.000675,
	0.004823, 0.000303,
	0.004823, 0.000514,
	0.019293, 0.000437,
	0.001608, 0.000670,
	0.001608, 0.000494,
	0.081994, 0.000998,
	0.139871, 0.000226,
	0.273312, 0.000016,
	1.919614, 0.000000);

env19 = kline(0,
	0.003215, 0.000800,
	0.004823, 0.000910,
	0.006431, 0.000543,
	0.020900, 0.000849,
	0.006431, 0.000472,
	0.019293, 0.000841,
	0.004823, 0.000546,
	0.009646, 0.000870,
	0.028939, 0.000772,
	0.004823, 0.001081,
	0.006431, 0.000675,
	0.022508, 0.000987,
	0.004823, 0.000702,
	0.025723, 0.000579,
	0.006431, 0.000805,
	0.004823, 0.000489,
	0.028939, 0.000254,
	0.072347, 0.000047,
	0.107717, 0.000245,
	2.102894, 0.000000);

env20 = kline(0,
	0.001608, 0.000526,
	0.008039, 0.001014,
	0.008039, 0.000609,
	0.017685, 0.001022,
	0.008039, 0.000581,
	0.003215, 0.001109,
	0.008039, 0.001350,
	0.009646, 0.000648,
	0.019293, 0.000923,
	0.004823, 0.000646,
	0.006431, 0.001035,
	0.004823, 0.000416,
	0.003215, 0.000826,
	0.003215, 0.000432,
	0.001608, 0.000704,
	0.014469, 0.000518,
	0.008039, 0.001072,
	0.027331, 0.000634,
	0.368167, 0.000007,
	1.966238, 0.000000);

env21 = kline(0,
	0.009646, 0.000087,
	0.022508, 0.000452,
	0.001608, 0.001202,
	0.004823, 0.000134,
	0.003215, 0.000999,
	0.006431, 0.000277,
	0.001608, 0.000954,
	0.001608, 0.000103,
	0.003215, 0.000831,
	0.001608, 0.000026,
	0.001608, 0.000766,
	0.008039, 0.000836,
	0.011254, 0.000145,
	0.001608, 0.000979,
	0.011254, 0.000367,
	0.001608, 0.001238,
	0.003215, 0.000142,
	0.004823, 0.000785,
	0.125402, 0.000066,
	2.263666, 0.000000);

env22 = kline(0,
	0.001608, 0.001299,
	0.001608, 0.000842,
	0.011254, 0.000420,
	0.014469, 0.001146,
	0.012862, 0.000399,
	0.003215, 0.000954,
	0.003215, 0.000552,
	0.001608, 0.001107,
	0.003215, 0.000734,
	0.004823, 0.001235,
	0.003215, 0.000826,
	0.022508, 0.001213,
	0.001608, 0.000810,
	0.001608, 0.001179,
	0.008039, 0.000938,
	0.003215, 0.000363,
	0.024116, 0.000796,
	0.035370, 0.000144,
	0.143087, 0.000005,
	2.191318, 0.000000);

env23 = kline(0,
	0.004823, 0.000600,
	0.004823, 0.000153,
	0.040193, 0.002135,
	0.009646, 0.002063,
	0.008039, 0.002378,
	0.001608, 0.002162,
	0.006431, 0.002435,
	0.003215, 0.002069,
	0.006431, 0.002222,
	0.006431, 0.001675,
	0.009646, 0.001701,
	0.020900, 0.000717,
	0.020900, 0.000180,
	0.038585, 0.000278,
	0.036977, 0.000030,
	0.059486, 0.000037,
	0.061093, 0.000450,
	0.072347, 0.000125,
	0.176849, 0.000009,
	1.903537, 0.000000);

env24 = kline(0,
	0.003215, 0.001891,
	0.012862, 0.000834,
	0.001608, 0.000916,
	0.006431, 0.000468,
	0.017685, 0.000498,
	0.004823, 0.000669,
	0.012862, 0.000462,
	0.006431, 0.000652,
	0.004823, 0.000338,
	0.028939, 0.001070,
	0.012862, 0.001196,
	0.051447, 0.000136,
	0.014469, 0.000054,
	0.016077, 0.000056,
	0.053055, 0.000697,
	0.067524, 0.000183,
	0.080386, 0.000331,
	0.049839, 0.000106,
	0.205788, 0.000017,
	1.840836, 0.000000);

env25 = kline(0,
	0.001608, 0.000396,
	0.004823, 0.000054,
	0.003215, 0.000381,
	0.001608, 0.000129,
	0.001608, 0.000374,
	0.003215, 0.000385,
	0.012862, 0.000153,
	0.006431, 0.000453,
	0.003215, 0.000204,
	0.001608, 0.000466,
	0.001608, 0.000266,
	0.008039, 0.000418,
	0.009646, 0.000121,
	0.003215, 0.000264,
	0.032154, 0.000028,
	0.004823, 0.000265,
	0.016077, 0.000016,
	0.012862, 0.000169,
	0.067524, 0.000007,
	2.295820, 0.000000);

env26 = kline(0,
	0.001608, 0.000189,
	0.001608, 0.000505,
	0.003215, 0.000060,
	0.004823, 0.000345,
	0.003215, 0.000031,
	0.001608, 0.000309,
	0.003215, 0.000034,
	0.003215, 0.000335,
	0.006431, 0.000059,
	0.004823, 0.000261,
	0.001608, 0.000592,
	0.001608, 0.000120,
	0.008039, 0.000352,
	0.003215, 0.000040,
	0.001608, 0.000326,
	0.001608, 0.000043,
	0.003215, 0.000300,
	0.011254, 0.000018,
	0.028939, 0.000214,
	2.397106, 0.000000);

env27 = kline(0,
	0.004823, 0.001116,
	0.003215, 0.000727,
	0.011254, 0.001184,
	0.004823, 0.000303,
	0.006431, 0.001015,
	0.006431, 0.000213,
	0.006431, 0.000811,
	0.008039, 0.000182,
	0.003215, 0.000860,
	0.009646, 0.000271,
	0.008039, 0.000848,
	0.006431, 0.000215,
	0.006431, 0.000828,
	0.008039, 0.000213,
	0.006431, 0.000748,
	0.004823, 0.000222,
	0.008039, 0.000649,
	0.006431, 0.000259,
	0.086817, 0.000011,
	2.286174, 0.000000);

env28 = kline(0,
	0.001608, 0.000256,
	0.003215, 0.000221,
	0.004823, 0.000532,
	0.003215, 0.000292,
	0.008039, 0.000905,
	0.014469, 0.001259,
	0.011254, 0.000676,
	0.011254, 0.000309,
	0.012862, 0.000233,
	0.001608, 0.000367,
	0.012862, 0.000172,
	0.011254, 0.000279,
	0.001608, 0.000122,
	0.009646, 0.000332,
	0.004823, 0.000202,
	0.006431, 0.000330,
	0.043408, 0.000027,
	0.032154, 0.000145,
	0.117363, 0.000005,
	2.180064, 0.000000);

env29 = kline(0,
	0.001608, 0.000438,
	0.003215, 0.000175,
	0.004823, 0.000187,
	0.004823, 0.000040,
	0.012862, 0.000070,
	0.001608, 0.000192,
	0.004823, 0.000036,
	0.001608, 0.000220,
	0.001608, 0.000105,
	0.001608, 0.000240,
	0.001608, 0.000056,
	0.003215, 0.000122,
	0.001608, 0.000018,
	0.008039, 0.000031,
	0.006431, 0.000174,
	0.008039, 0.000022,
	0.004823, 0.000157,
	0.006431, 0.000013,
	0.032154, 0.000008,
	2.381029, 0.000000);

env30 = kline(0,
	0.001608, 0.000028,
	0.003215, 0.000243,
	0.003215, 0.000039,
	0.006431, 0.000217,
	0.003215, 0.000033,
	0.009646, 0.000130,
	0.006431, 0.000023,
	0.001608, 0.000121,
	0.025723, 0.000108,
	0.003215, 0.000010,
	0.011254, 0.000146,
	0.011254, 0.000018,
	0.008039, 0.000138,
	0.004823, 0.000018,
	0.006431, 0.000118,
	0.001608, 0.000011,
	0.009646, 0.000006,
	0.011254, 0.000097,
	0.038585, 0.000004,
	2.324759, 0.000000);



// **********************
// computed during a-pass

y01 = env01 * oscil(cyc, fr * 1);
y02 = env02 * oscil(cyc, fr * 2);
y03 = env03 * oscil(cyc, fr * 3);
y04 = env04 * oscil(cyc, fr * 4);
y05 = env05 * oscil(cyc, fr * 5);
y06 = env06 * oscil(cyc, fr * 6);
y07 = env07 * oscil(cyc, fr * 7);
y08 = env08 * oscil(cyc, fr * 8);
y09 = env09 * oscil(cyc, fr * 9);
y10 = env10 * oscil(cyc, fr * 10);
y11 = env11 * oscil(cyc, fr * 11);
y12 = env12 * oscil(cyc, fr * 12);
y13 = env13 * oscil(cyc, fr * 13);
y14 = env14 * oscil(cyc, fr * 14);
y15 = env15 * oscil(cyc, fr * 15);
y16 = env16 * oscil(cyc, fr * 16);
y17 = env17 * oscil(cyc, fr * 17);
y18 = env18 * oscil(cyc, fr * 18);
y19 = env19 * oscil(cyc, fr * 19);
y20 = env20 * oscil(cyc, fr * 20);
y21 = env21 * oscil(cyc, fr * 21);
y22 = env22 * oscil(cyc, fr * 22);
y23 = env23 * oscil(cyc, fr * 23);
y24 = env24 * oscil(cyc, fr * 24);
y25 = env25 * oscil(cyc, fr * 25);
y26 = env26 * oscil(cyc, fr * 26);
y27 = env27 * oscil(cyc, fr * 27);
y28 = env28 * oscil(cyc, fr * 28);
y29 = env29 * oscil(cyc, fr * 29);
y30 = env30 * oscil(cyc, fr * 30);

output(y01+y02+y03+y04+y05+y06+y07+y08+y09+y10+y11+y12+y13+y14+y15+y16+y17+y18+y19+y20+y21+y22+y23+y24+y25+y26+y27+y28+y29+y30);

}